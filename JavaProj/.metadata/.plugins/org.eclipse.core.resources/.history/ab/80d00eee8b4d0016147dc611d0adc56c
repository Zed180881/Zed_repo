package dao;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.sql.Statement;
import lesson01.User;

public class UserDAO {

    Connection conn;
    PreparedStatement ps;

    public UserDAO() throws SQLException {
	conn = DriverManager.getConnection("jdbc:mysql://localhost/zed1981",
		"root", "pjotr2005");
	Statement statement = conn.createStatement();
	statement.execute("create table if not exists `user` "
		+ "(`id` int auto_increment primary key, "
		+ "`login` varchar(20), " + "`password` varchar(20)"
		+ "`fio` varchar(45)" + "`mail` varchar(45)"
		+ "`phone` varchar(20)" + "`address` varchar(45))");

    }

    public void create(User user) throws SQLException {
	ps = conn
		.prepareStatement("insert into `user`(`login`, `password`, 'fio', 'mail', 'phone', 'address') values(?, ?, ?, ?, ?, ?)");
	ps.setString(1, user.getLogin());
	ps.setString(2, user.getPassword());
	ps.setString(3, user.getFio());
	ps.setString(4, user.getMail());
	ps.setString(5, user.getPhone());
	ps.setString(6, user.getAddress());

    }
}
