package lesson5Dz;

import java.util.ArrayList;
import java.util.List;

import org.junit.Before;
import org.junit.Test;

import static org.junit.Assert.*;

public class CarProcessorTest {
	
	List<Car> carsToTest;
	List<Car> carsToCheck;
	CarProcessor carProcessor;
	@Before
	public void initTestCase(){
		carProcessor = new CarProcessor();
		carsToTest = new ArrayList<Car>();
		carsToCheck = new ArrayList<Car>();
		carsToTest.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToTest.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
		carsToTest.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17,
				true));
		carsToTest.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
		carsToTest.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
		carsToTest.add(new Car("Toyota", "silver", "universal", 22, "winter", 18,
				true));
		carsToTest.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
		carsToTest.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToTest.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
		carsToTest.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
	}
	
	@Test
	public void carSearchByWheelDiameterTest(){		
		List<Car> searchResult = carProcessor.carSearchByWheelDiameter(carsToTest, 19);		
//		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
//		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
//		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
//		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
//		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
//		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
//		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, searchResult);
	}
	
	@Test
	public void carSearchByWheelDiameterAndBodyColorTest(){		
		List<Car> searchResult = carProcessor.carSearchByWheelDiameterAndBodyColor(carsToTest, 19, "red");		
//		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
//		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
//		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
//		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
//		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
//		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
//		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
//		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, searchResult);
	}
	
	@Test
	public void carReplaceRedCarSteeringWheelTest(){		
		carProcessor.carReplaceRedCarSteeringWheel(carsToTest, 1);		
		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, true));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, true));
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, carsToTest);
	}
	
	@Test
	public void carIncreaseWheelsDiameterTest(){
		carProcessor.carIncreaseWheelsDiameter(carsToTest);
		carsToCheck.add(new Car("Mazda", "black", "sedan", 42, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 42, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 38, "winter", 18, true));
		carsToCheck.add(new Car("Toyota", "red", "cupe", 34, "summer", 15, true));
		carsToCheck.add(new Car("Toyota", "silver", "universal", 44, "winter", 18, true));
		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToCheck.add(new Car("Ford", "red", "cupe", 38, "demiseason", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 42, "winter", 15, true));;
		assertEquals(carsToCheck, carsToTest);
	}
	
	@Test
	public void carReplaceCarsByWheelDiameterTest(){		
		carProcessor.carReplaceCarsByWheelDiameter(carsToTest, 19);		
		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
		carsToCheck.add(new Car());
		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
		carsToCheck.add(new Car());
		carsToCheck.add(new Car());
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, carsToTest);
	}
	
	@Test
	public void carSearchByBodyTypeTest(){		
		List<Car> searchResult = carProcessor.carSearchByBodyType(carsToTest, "sedan");		
		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
//		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
//		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
//		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
//		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
//		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
//		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, searchResult);
	}
	
	@Test
	public void carDeleteByBodyColorTest(){		
		List<Car> deleteResult = carProcessor.carDeleteByBodyColor(carsToTest, "red");		
		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
//		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
//		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
//		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
//		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, deleteResult);
	}
	
	@Test
	public void carReplaceTyresTest(){		
		carProcessor.carReplaceTyres(carsToTest, 17, 19);		
		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "winter", 16, false));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "winter", 15, true));
		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "winter", 16, true));
		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, carsToTest);
	}
	
	@Test
	public void carDeleteByBodyTypeAndSteeringWheelDiameterTest(){		
		List<Car> deleteResult = carProcessor.carDeleteByBodyTypeAndSteeringWheelDiameter(carsToTest, "sedan", 15, 17);		
//		carsToCheck.add(new Car("Mazda", "black", "sedan", 21, "winter", 15, true));
		carsToCheck.add(new Car("Mazda", "red", "cupe", 19, "summer", 16, false));
		carsToCheck.add(new Car("BMW", "metallic", "cabrio", 21, "demiseason", 17, true));
		carsToCheck.add(new Car("BMW", "white", "sedan", 19, "winter", 18, true));
		carsToCheck.add(new Car("Toyota", "red", "cupe", 17, "summer", 15, true));
		carsToCheck.add(new Car("Toyota", "silver", "universal", 22, "winter", 18, true));
		carsToCheck.add(new Car("Lada", "purple", "hatchback", 16, "winter", 20, false));
//		carsToCheck.add(new Car("Lada", "red", "sedan", 16, "summer", 16, false));
		carsToCheck.add(new Car("Ford", "red", "cupe", 19, "demiseason", 16, true));
//		carsToCheck.add(new Car("Ford", "grey", "sedan", 21, "winter", 15, true));;
		assertEquals(carsToCheck, deleteResult);
	}
	
	@Test
	public void carIndexSearchByBodyTypeTest(){		
		List<Integer> searchResult = carProcessor.carIndexSearchByBodyType(carsToTest, "sedan");		
		List<Integer> indexToCheck = new ArrayList<Integer>();
		indexToCheck.add(0);
		indexToCheck.add(3);
		indexToCheck.add(7);
		indexToCheck.add(9);
		assertEquals(indexToCheck, searchResult);
	}
	
	@Test
	public void createCarProcessorTest() {		
		CarProcessor carProcessor = new CarProcessor();
		assertEquals(carsToTest, carProcessor.cars);
	}	
	
// Car Classes tests
	@Test
	public void createDefCarTest() {		
		Car car = new Car();
		assertEquals("BMW", car.getModel());
		assertEquals("sedan", car.getBodyType());
		assertEquals(15, car.getSteeringWheelDiameter());
		assertEquals(false, car.isSteeringWheelHasButtons());
		assertEquals(19, car.getWheelsDiameter());
		assertEquals("demiseasons", car.getTyreType());
	}

	@Test
	public void settersCarTest() {		
		Car car = new Car();
		car.setBodyType("cupe");
		car.setColor("red");
		car.setModel("Audi");
		car.setSteeringWheelDiameter(20);
		car.setSteeringWheelHasButtons(true);
		car.setTyreType("winter");
		car.setWheelsDiameter(25);
		assertEquals("Audi", car.getModel());
		assertEquals("cupe", car.getBodyType());
		assertEquals(20, car.getSteeringWheelDiameter());
		assertEquals(true, car.isSteeringWheelHasButtons());
		assertEquals(25, car.getWheelsDiameter());
		assertEquals("winter", car.getTyreType());
		Wheel wheel = new Wheel(WheelPosition.FRONT_LEFT, 20, "summer");
		assertEquals(WheelPosition.FRONT_LEFT, wheel.getWheelPosition());
		wheel.setWheelPosition(WheelPosition.BACK_LEFT);
		assertEquals(WheelPosition.BACK_LEFT, wheel.getWheelPosition());
	}

	@Test
	public void carToStringTest() {		
		Car car = new Car("Mazda", "black", "sedan", 21, "winter", 15, true);
		assertEquals(
				"Модель: Mazda, тип кузова - sedan, колір - black, діаметер коліс - 21, тип резини - winter, діаметер керма - 15, кермо з кнопками.",
				car.toString());
		car = new Car("Mazda", "black", "sedan", 21, "winter", 15, false);
		assertEquals(
				"Модель: Mazda, тип кузова - sedan, колір - black, діаметер коліс - 21, тип резини - winter, діаметер керма - 15, кермо без кнопок.",
				car.toString());
	}
	
	@Test
	public void hashCodeTest(){
		Wheel wheel1 = new Wheel(WheelPosition.FRONT_LEFT, 19, "winter");
		Wheel wheel2 = new Wheel(WheelPosition.FRONT_LEFT, 19, "winter");		
		assertEquals(wheel1.hashCode(), wheel2.hashCode());
		wheel1 = new Wheel(null, 19,"winter");
		wheel2 = new Wheel(null, 19,"winter");
		assertEquals(wheel1.hashCode(), wheel2.hashCode());
		wheel1 = new Wheel(WheelPosition.FRONT_LEFT, 19,	null);
		wheel2 = new Wheel(WheelPosition.FRONT_LEFT, 19,	null);
		assertEquals(wheel1.hashCode(), wheel2.hashCode());
		
//		Wheels wheels = new Wheels();
//		assertEquals(1668376638, wheels.hashCode());
//		wheels.spareWheel=null;
//		assertEquals(1852258399, wheels.hashCode());
//		wheels.wheelBackLeft=null;
//		assertEquals(-1051303906, wheels.hashCode());
//		wheels.wheelBackRight=null;
//		assertEquals(101958783, wheels.hashCode());
//		wheels.wheelFrontLeft=null;
//		assertEquals(970444798, wheels.hashCode());
//		wheels.wheelFrontRight=null;
//		assertEquals(28629151, wheels.hashCode());
	}

}
